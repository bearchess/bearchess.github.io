<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>表白页面</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      text-align: center;
      font-size: 2em;
    }

    .heart {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #f00;
      transform: rotate(45deg);
      animation: pulse 1.2s cubic-bezier(0.66, 0, 0, 1.17) infinite;
    }

    .heart:before,
    .heart:after {
      content: "";
      position: absolute;
      width: inherit;
      height: inherit;
      background-color: inherit;
      border-radius: 50%;
      transform: rotate(45deg);
    }

    .heart:before {
      left: -5px;
    }

    .heart:after {
      top: -5px;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.4);
      }
      100% {
        transform: scale(1);
      }
    }

    #container {
      position: relative;
      width: 100%;
      height: 100%;
      overflow: hidden;
      cursor: pointer;
    }

    #text {
      margin-top: 10%;
      font-size: 6em;
      text-shadow: 0 0 10px #fff;
    }

    #firework {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #f00;
      animation: firework 2s ease-out forwards;
    }

    @keyframes firework {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(3);
        opacity: 0.5;
      }
      100% {
        transform: scale(5);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <div id="container">
    <div id="text">
      Click me!
    </div>
  </div>
  <script>
function fireworks() {
  var container = document.getElementById("container");
  container.style.cursor = "default";
  container.innerHTML = "";
  var colors = ["#f00", "#0f0", "#00f", "#ff0", "#f0f", "#0ff"];
  var texts = [
    "I love you",
    "Te amo",
    "Ti amo",
    "Je t'aime",
    "Ich liebe dich",
    "愛してる"
  ];
  var fontSize = ["72px", "64px", "56px", "48px", "40px", "32px"];
  var fireworks = new Fireworks();
  fireworks.initialize(container);
  fireworks.setColors(colors);
  fireworks.setTexts(texts);
  fireworks.setFontSizes(fontSize);
  fireworks.start();
}

var Fireworks = function () {
  var PARTICLE_NUM = 300,
    PARTICLE_DIST = 20,
    PARTICLE_SIZE_BASE = 5,
    TEXT_DURATION = 3000,
    EXPLODE_TIME_RANGE = [1000, 2000],
    EXPLODE_SIZE_RANGE = [30, 80],
    EXPLODE_DISTANCE_RANGE = [50, 100],
    PARTICLE_VELOCITY_RANGE = [0.1, 1.5],
    PARTICLE_GRAVITY = 0.05,
    PARTICLE_ALPHA_FADEOUT_RATE = 0.01,
    PARTICLE_SIZE_FADEOUT_RATE = 0.1,
    PARTICLE_SHRINK_RATE = 0.8;

  var canvas = null,
    context = null,
    particles = [],
    particleTexts = [],
    colors = [],
    fontSizes = [],
    maxWidth = 0,
    maxHeight = 0,
    mousePos = { x: 0, y: 0 };

  var Particle = function (x, y, vx, vy, size, color, text, fontSize) {
    this.x = x;
    this.y = y;
    this.vx = vx;
    this.vy = vy;
    this.size = size;
    this.color = color;
    this.text = text;
    this.fontSize = fontSize;
    this.alpha = 1;
  };

  Particle.prototype.update = function () {
    this.vy += PARTICLE_GRAVITY;
    this.x += this.vx;
    this.y += this.vy;
    this.alpha -= PARTICLE_ALPHA_FADEOUT_RATE;
    this.size -= PARTICLE_SIZE_FADEOUT_RATE;
  };

  Particle.prototype.draw = function () {
    context.globalAlpha = this.alpha;
    context.fillStyle = this.color;
    context.font = this.fontSize + " Arial";
    context.fillText(this.text, this.x, this.y);
  };

  function init() {
    canvas = document.createElement("canvas");
    context = canvas.getContext("2d");
    resize();

    window.addEventListener("resize", resize);
    document.addEventListener("mousemove", onMouseMove);
    canvas.addEventListener("click", onClick);

    document.body.appendChild(canvas);
  }

  function start() {
    setInterval(function () {
      draw();
      update();
    }, 30);
  }

  function initialize(container) {
    init();
    container.appendChild(canvas);
  }

  function setColors(newColors) {
    colors = newColors;
  }

  function setTexts(newTexts) {
    particleTexts = newTexts;
  }

  function setFontSizes(newFontSizes) {
    fontSizes = newFontSizes;
  }

  function resize() {
    canvas.width
